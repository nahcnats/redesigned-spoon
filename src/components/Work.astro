---
import { Image } from "@astrojs/image/components";

const works = await Astro.glob("../works/*.md");
---
<section id="work" class="mb-12">
    <div>
        <div class="flex items-center mb-4">
            <div class="w-1 bg-amber-500 h-4 mr-2"></div><h1
                class="text-xl"
            >
                My Work
            </h1>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
            {
                works.map((work) => (
                    <div class="card h-full w-full flex flex-col">
                        <div class="relative w-full mb-4 flex flex-2 min-h-[200px]">
                            <Image 
                                src={`/images/${work.frontmatter.image}`}
                                alt={work.frontmatter.title}
                                // width="100%"
                                // height="30%"
                                fit="fill"
                                aspectRatio={16/9}
                            />
                        </div>

                        <div class="flex flex-1 flex-col justify-between">
                            <h3 class="text-lg mb-2">{work.frontmatter.title}</h3>

                            <ul class="text-sm leading-loose">
                                <li class="flex gap-2">
                                    <div>Company:</div>
                                    <div>{work.frontmatter.company}</div>
                                </li>
                                <li class="flex gap-2">
                                    <div>Type:</div>
                                    <div>{work.frontmatter.type}</div>
                                </li>
                                <li class="flex gap-2">
                                    <div>Duration:</div>
                                    <div>{work.frontmatter.duration}</div>
                                </li>
                                <li class="flex gap-2">
                                    <div>Stack:</div>
                                    <div>{work.frontmatter.stack}</div>
                                </li>
                            </ul>

                            <button class="primary-button mt-4">More</button>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</section>